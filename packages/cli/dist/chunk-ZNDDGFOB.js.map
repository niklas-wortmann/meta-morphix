{"version":3,"sources":["../../../node_modules/.pnpm/std-env@3.7.0/node_modules/std-env/dist/index.mjs","../package.json","../lib/main.ts"],"sourcesContent":["const r=Object.create(null),E=e=>globalThis.process?.env||import.meta.env||globalThis.Deno?.env.toObject()||globalThis.__env__||(e?r:globalThis),s=new Proxy(r,{get(e,o){return E()[o]??r[o]},has(e,o){const i=E();return o in i||o in r},set(e,o,i){const g=E(!0);return g[o]=i,!0},deleteProperty(e,o){if(!o)return!1;const i=E(!0);return delete i[o],!0},ownKeys(){const e=E(!0);return Object.keys(e)}}),t=typeof process<\"u\"&&process.env&&process.env.NODE_ENV||\"\",p=[[\"APPVEYOR\"],[\"AWS_AMPLIFY\",\"AWS_APP_ID\",{ci:!0}],[\"AZURE_PIPELINES\",\"SYSTEM_TEAMFOUNDATIONCOLLECTIONURI\"],[\"AZURE_STATIC\",\"INPUT_AZURE_STATIC_WEB_APPS_API_TOKEN\"],[\"APPCIRCLE\",\"AC_APPCIRCLE\"],[\"BAMBOO\",\"bamboo_planKey\"],[\"BITBUCKET\",\"BITBUCKET_COMMIT\"],[\"BITRISE\",\"BITRISE_IO\"],[\"BUDDY\",\"BUDDY_WORKSPACE_ID\"],[\"BUILDKITE\"],[\"CIRCLE\",\"CIRCLECI\"],[\"CIRRUS\",\"CIRRUS_CI\"],[\"CLOUDFLARE_PAGES\",\"CF_PAGES\",{ci:!0}],[\"CODEBUILD\",\"CODEBUILD_BUILD_ARN\"],[\"CODEFRESH\",\"CF_BUILD_ID\"],[\"DRONE\"],[\"DRONE\",\"DRONE_BUILD_EVENT\"],[\"DSARI\"],[\"GITHUB_ACTIONS\"],[\"GITLAB\",\"GITLAB_CI\"],[\"GITLAB\",\"CI_MERGE_REQUEST_ID\"],[\"GOCD\",\"GO_PIPELINE_LABEL\"],[\"LAYERCI\"],[\"HUDSON\",\"HUDSON_URL\"],[\"JENKINS\",\"JENKINS_URL\"],[\"MAGNUM\"],[\"NETLIFY\"],[\"NETLIFY\",\"NETLIFY_LOCAL\",{ci:!1}],[\"NEVERCODE\"],[\"RENDER\"],[\"SAIL\",\"SAILCI\"],[\"SEMAPHORE\"],[\"SCREWDRIVER\"],[\"SHIPPABLE\"],[\"SOLANO\",\"TDDIUM\"],[\"STRIDER\"],[\"TEAMCITY\",\"TEAMCITY_VERSION\"],[\"TRAVIS\"],[\"VERCEL\",\"NOW_BUILDER\"],[\"VERCEL\",\"VERCEL\",{ci:!1}],[\"VERCEL\",\"VERCEL_ENV\",{ci:!1}],[\"APPCENTER\",\"APPCENTER_BUILD_ID\"],[\"CODESANDBOX\",\"CODESANDBOX_SSE\",{ci:!1}],[\"STACKBLITZ\"],[\"STORMKIT\"],[\"CLEAVR\"],[\"ZEABUR\"],[\"CODESPHERE\",\"CODESPHERE_APP_ID\",{ci:!0}],[\"RAILWAY\",\"RAILWAY_PROJECT_ID\"],[\"RAILWAY\",\"RAILWAY_SERVICE_ID\"]];function B(){if(globalThis.process?.env)for(const e of p){const o=e[1]||e[0];if(globalThis.process?.env[o])return{name:e[0].toLowerCase(),...e[2]}}return globalThis.process?.env?.SHELL===\"/bin/jsh\"&&globalThis.process?.versions?.webcontainer?{name:\"stackblitz\",ci:!1}:{name:\"\",ci:!1}}const l=B(),d=l.name;function n(e){return e?e!==\"false\":!1}const I=globalThis.process?.platform||\"\",T=n(s.CI)||l.ci!==!1,R=n(globalThis.process?.stdout&&globalThis.process?.stdout.isTTY),U=typeof window<\"u\",h=n(s.DEBUG),C=t===\"test\"||n(s.TEST),f=t===\"production\",v=t===\"dev\"||t===\"development\",m=n(s.MINIMAL)||T||C||!R,a=/^win/i.test(I),M=/^linux/i.test(I),V=/^darwin/i.test(I),Y=!n(s.NO_COLOR)&&(n(s.FORCE_COLOR)||(R||a)&&s.TERM!==\"dumb\"||T),_=(globalThis.process?.versions?.node||\"\").replace(/^v/,\"\")||null,y=Number(_?.split(\".\")[0])||null,W=globalThis.process||Object.create(null),c={versions:{}},w=new Proxy(W,{get(e,o){if(o===\"env\")return s;if(o in e)return e[o];if(o in c)return c[o]}}),A=globalThis.process?.release?.name===\"node\",L=!!globalThis.Bun||!!globalThis.process?.versions?.bun,D=!!globalThis.Deno,O=!!globalThis.fastly,S=!!globalThis.Netlify,N=!!globalThis.EdgeRuntime,u=globalThis.navigator?.userAgent===\"Cloudflare-Workers\",b=!!globalThis.__lagon__,F=[[S,\"netlify\"],[N,\"edge-light\"],[u,\"workerd\"],[O,\"fastly\"],[D,\"deno\"],[L,\"bun\"],[A,\"node\"],[b,\"lagon\"]];function G(){const e=F.find(o=>o[0]);if(e)return{name:e[1]}}const P=G(),K=P?.name||\"\";export{s as env,R as hasTTY,U as hasWindow,L as isBun,T as isCI,Y as isColorSupported,h as isDebug,D as isDeno,v as isDevelopment,N as isEdgeLight,O as isFastly,b as isLagon,M as isLinux,V as isMacOS,m as isMinimal,S as isNetlify,A as isNode,f as isProduction,C as isTest,a as isWindows,u as isWorkerd,t as nodeENV,y as nodeMajorVersion,_ as nodeVersion,I as platform,w as process,d as provider,l as providerInfo,K as runtime,P as runtimeInfo};\n","{\n\t\"name\": \"@meta-morphix/cli\",\n\t\"version\": \"0.0.0\",\n\t\"private\": true,\n\t\"description\": \"CLI for Code Transformations and Generations\",\n\t\"repository\": {\n\t\t\"type\": \"git\",\n\t\t\"url\": \"https://github.com/niklas-wortmann/meta-morphix\"\n\t},\n\t\"license\": \"MIT\",\n\t\"author\": {\n\t\t\"name\": \"Jan-Niklas Wortmann\",\n\t\t\"email\": \"jwortmann719@gmail.com\"\n\t},\n\t\"type\": \"module\",\n\t\"main\": \"./lib/index.js\",\n\t\"files\": [\n\t\t\"lib/\",\n\t\t\"package.json\",\n\t\t\"LICENSE.md\",\n\t\t\"README.md\"\n\t],\n\t\"scripts\": {\n\t\t\"build\": \"tsup\",\n\t\t\"test\": \"vitest\",\n\t\t\"tsc\": \"tsc\"\n\t},\n\t\"devDependencies\": {\n\t\t\"@types/ini\": \"4.1.0\",\n\t\t\"@types/node\": \"20.12.5\",\n\t\t\"@types/npm-package-arg\": \"6.1.4\",\n\t\t\"@types/pacote\": \"11.1.8\",\n\t\t\"@types/semver\": \"7.5.8\",\n\t\t\"@yarnpkg/lockfile\": \"1.1.0\",\n\t\t\"citty\": \"0.1.6\",\n\t\t\"consola\": \"^3.2.3\",\n\t\t\"ini\": \"4.1.2\",\n\t\t\"npm-package-arg\": \"11.0.1\",\n\t\t\"npm-pick-manifest\": \"9.0.0\",\n\t\t\"pacote\": \"17.0.6\",\n\t\t\"semver\": \"^7.6.0\",\n\t\t\"std-env\": \"3.7.0\"\n\t},\n\t\"publishConfig\": {\n\t\t\"provenance\": true\n\t}\n}\n","import { defineCommand } from \"citty\";\nimport { provider } from \"std-env\";\nimport { commands } from \"./commands\";\nimport { setupGlobalConsole } from \"./utils/console\";\nimport { checkEngines } from \"./utils/engines\";\nimport cliPackage from \"../package.json\";\n\nexport const main = defineCommand({\n\tmeta: {\n\t\tname: cliPackage.name,\n\t\tversion: cliPackage.version,\n\t\tdescription: cliPackage.description,\n\t},\n\tsubCommands: commands,\n\tasync setup(ctx) {\n\t\tconst command = ctx.args._[0];\n\t\tconst dev = command === \"dev\";\n\t\tsetupGlobalConsole({ dev });\n\n\t\t// Check Node.js version and CLI updates in background\n\t\tlet backgroundTasks: Promise<any> | undefined;\n\t\tif (command !== \"_dev\" && provider !== \"stackblitz\") {\n\t\t\tbackgroundTasks = Promise.all([\n\t\t\t\tcheckEngines(),\n\t\t\t\t// checkForUpdates(),\n\t\t\t]).catch((err) => console.error(err));\n\t\t}\n\t\tif (command !== \"_dev\" && provider !== \"stackblitz\") {\n\t\t\tbackgroundTasks = Promise.all([\n\t\t\t\tcheckEngines(),\n\t\t\t\t// checkForUpdates(),\n\t\t\t]).catch((err) => console.error(err));\n\t\t}\n\n\t\t// Avoid background check to fix prompt issues\n\t\tif (command === \"init\") {\n\t\t\tawait backgroundTasks;\n\t\t}\n\t},\n}) as any; /* TODO: Fix rollup type inline issue */\n"],"mappings":"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","names":[]}